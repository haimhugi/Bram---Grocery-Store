@using Microsoft.AspNetCore.Http

<!DOCTYPE html>
<html lang="en">

<head>
    <title>Bram - @ViewData["Title"]</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="~/css/site.css" />
    <link rel="stylesheet" href="~/css/header.css" />
    <link rel="stylesheet" href="~/css/Background.css" />
    <link rel="stylesheet" href="~/css/layout.css" />
</head>

<body class="shopBackground">

    <!-- NavBar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light nav123">
        <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                    aria-label="Toggle navigation" style="margin-left: auto;">
                <span style=" border-color:azure !important;" class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <div class="navim">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        @if (Context.Session.GetString("userId") == null)
                        {
                            <li class="col-4">

                            </li>
                        }
                        @if (Context.Session.GetString("userId") != null && Context.Session.GetString("userName") != "admin")
                        {
                            <li class="col-1">

                            </li>
                        }
                        @if (Context.Session.GetString("userId") != null && Context.Session.GetString("userName").Equals("admin"))
                        {
                            <li class="col-1 nav-item">
                                <a class="nav-link btn-light btn-block p-3 bg-light text-danger text-center opacity font-weight-bold"
                                   style=" padding: 10% 0 0 0 !important;" asp-area=""
                                   asp-controller="Users" asp-action="Index">ניהול משתמשים</a>

                            </li>
                        }

                        @if (Context.Session.GetString("userId") != null)
                        {
                            <li class="col-1 nav-item">
                                <a class="nav-link btn-light btn-block p-3 bg-light text-danger text-center opacity font-weight-bold"
                                   style=" padding: 10% 0 0 0 !important;" asp-area=""
                                   asp-controller="Users" asp-action="Edit" asp-route-id="@Context.Session.GetString("user")">החשבון שלי</a>
                            </li>
                            <li class="col-1 nav-item">
                                <a class="nav-link btn-light btn-block p-3 bg-light text-danger text-center opacity font-weight-bold"
                                   style="padding: 10% 0 0 0 !important;"
                                   asp-area="" asp-controller="Carts" asp-action="Index">היסטוריית קניות</a>
                            </li>
                            <li class="col-1 nav-item">
                                <a class="nav-link btn-light btn-block p-3 bg-light text-danger text-center opacity font-weight-bold"
                                   style="padding: 10% 0 0 0 !important;"
                                   asp-area="" asp-controller="ProductCarts" asp-action="Index">העגלה שלי</a>
                            </li>
                        }

                        @if (Context.Session.GetString("userId") == null)
                        {
                            <li class="col-1 nav-item">
                                <a class="nav-link btn-light btn-block p-3 bg-light text-danger text-center opacity font-weight-bold"
                                   asp-area="" asp-controller="Users" asp-action="Login">התחבר</a>

                            </li>
                        }
                        @if (Context.Session.GetString("userId") != null)
                        {
                            <li class="col-1 nav-item">
                                <a class="nav-link btn-light btn-block p-3 bg-light text-danger text-center opacity font-weight-bold"
                                   asp-area="" asp-controller="Users" asp-action="Logout">התנתק</a>

                            </li>
                        }
                    </ul>
                </div>
                <a class="navbar-brand" asp-area="" asp-controller="Products" asp-action="Index" style="float:right">
                    <img style="height:50px;" src="/pics/logo.png" />
                </a>

                <form class="d-flex searchi" asp-controller="Products" asp-action="Search">
                    <input class="form-control me-2" asp-controller="Products" asp-action="Search" type="search" placeholder="חיפוש מוצר..." aria-label="Search" name="product">
                    <button style="color:azure;" class="btn btn-gree btn-outline-success" type="submit">Search</button>
                </form>
            </div>
        </div>
    </nav>
    <!-- End NavBar -->
    <div class="container">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>

    <!-- Footer -->
    <footer class="bg-light text-center text-lg-start foot">
        <!-- Grid container -->
        <div class="container p-3">
            <!--Grid row-->
            <div class="row">
                <!--Grid column-->
                <div class="container" style="text-align:center;">
                    <a asp-area="" asp-controller="Products" asp-action="Index" class="text-danger">דף הבית</a>  |

                    @if (Context.Session.GetString("userId") == null)
                    {
                        <a asp-area="" asp-controller="Users" asp-action="Login" class="text-danger">התחבר</a>
                    }
                    @if (Context.Session.GetString("userId") != null)
                    {
                        <a asp-area="" asp-controller="Users" asp-action="Logout" class="text-danger">התנתק</a>
                        <label> | </label>
                        <a asp-area="" asp-controller="ProductCarts" asp-action="Index" class="text-danger">העגלה שלי</a>
                    }
                </div>

                <div class="col-lg-4 col-md-6 mb-4 mb-md-0 geoli">
                    <p class="pargeolei">
                        גאולי תימן
                        <br />
                        טל. 03-6666666
                        <br />
                        פקס. 072-5555555
                        <br />
                        bram@gmail.com
                    </p>
                </div>
                <div class="col-lg-4 col-md-6 mb-4 mb-md-0 shaot">
                    <p class="parshaot">
                        :שעות פעילות
                        <br />
                        א' - ה' : 09:00 – 18:00
                        <br />
                        ו' : 09:00 – 14:00
                        <br />
                        שבת : סגור
                    </p>
                </div>
                <div class="col-lg-4 col-md-6 mb-4 mb-md-0 mapa">
                    <div class="mapouter" style="margin-left: 20px;">
                        <div class="gmap_canvas">
                            <iframe width="458" height="200" id="gmap_canvas"
                                    src="https://maps.google.com/maps?q=%D7%92%D7%90%D7%95%D7%9C%D7%99%20%D7%AA%D7%99%D7%9E%D7%9F&t=&z=11&ie=UTF8&iwloc=&output=embed"
                                    frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe><a href="https://123movies-to.org"></a><br>
                            <style>
                                .mapouter {
                                    position: relative;
                                    text-align: right;
                                    height: 222px;
                                    width: 458px;
                                }
                            </style><a href="https://www.embedgooglemap.net"></a>
                            <style>
                                .gmap_canvas {
                                    overflow: hidden;
                                    background: none !important;
                                    height: 222px;
                                    width: 458px;
                                }
                            </style>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="text-center p-3 zhoiot" style="background-color: rgba(0, 0, 0, 0.2);">
            © 2021
            <a>Made By HaimHugi, Tzvi Dissen, David Katz, Yaakov Dayan.</a>
        </div>
    </footer>
    <!--End Footer -->

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>